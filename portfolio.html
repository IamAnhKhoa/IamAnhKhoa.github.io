<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Tr·∫ßn Anh Khoa // 3D Portfolio</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Space+Mono:wght@400;700&family=VT323&display=swap" rel="stylesheet">
  <style>
    :root {
      --neon: #00ffaa; --neon-light: #00ffff; --accent: #ff00ff;
      --text: #d9fff5; --bg: #0a1f27;
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body {
      width: 100%; height: 100%; overflow: hidden;
      font-family: 'Space Mono', monospace; background: var(--bg); color: var(--text);
      cursor: none;
    }
    #canvas { display: block; position: fixed; top: 0; left: 0; z-index: 1; }
    .ui { position: fixed; inset: 0; z-index: 10; pointer-events: none; }
    
    .topbar {
      position: fixed; top: 0; left: 0; right: 0; z-index: 20;
      display: flex; justify-content: space-between; align-items: center;
      padding: 20px 30px;
      background: linear-gradient(to bottom, rgba(10,31,39,.8), transparent);
      backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(0,255,170,.1);
      pointer-events: auto;
    }
    .logo {
      display: flex; align-items: center; gap: 12px;
      color: var(--neon); text-shadow: 0 0 20px var(--neon);
      font-weight: 700; font-size: 16px;
    }
    .logo-mark {
      width: 44px; height: 44px; border: 2px solid var(--neon); border-radius: 8px;
      display: flex; align-items: center; justify-content: center; font-size: 24px;
      box-shadow: 0 0 20px var(--neon), inset 0 0 15px rgba(0,255,255,.2);
      background: linear-gradient(135deg, rgba(0,255,170,.1), rgba(0,255,255,.05));
    }
    nav { display: flex; gap: 10px; flex-wrap: wrap; }
    nav a {
      text-decoration: none; color: var(--neon); padding: 8px 16px;
      border: 1px solid var(--neon); border-radius: 6px; font-size: 12px;
      font-weight: 600; cursor: pointer; transition: all .3s;
      background: rgba(0,255,170,.05); text-shadow: 0 0 10px var(--neon);
    }
    nav a:hover {
      box-shadow: 0 0 20px var(--neon); transform: translateY(-2px);
      background: rgba(0,255,170,.15);
    }
    nav a.active { background: var(--neon); color: var(--bg); box-shadow: 0 0 30px var(--neon); }

    .hero {
      position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
      text-align: center; z-index: 15; width: 90%;
      transition: opacity .5s, transform .5s;
    }
    .hero h1 {
      font-size: clamp(32px, 6vw, 72px); color: var(--neon);
      font-family: 'Orbitron', sans-serif; text-shadow: 0 0 30px var(--neon), 0 0 60px rgba(0,255,170,.3);
      animation: glow 3s ease-in-out infinite alternate;
    }
    @keyframes glow { to { text-shadow: 0 0 50px var(--neon), 0 0 100px rgba(0,255,170,.5); } }
    .hero p { font-size: 14px; margin: 15px auto; max-width: 600px; line-height: 1.7; }
    .hero-buttons { display: flex; gap: 15px; justify-content: center; margin-top: 25px; pointer-events: auto; }
    .btn {
      padding: 12px 28px; border: 2px solid var(--neon); background: transparent; color: var(--neon);
      cursor: pointer; font-family: inherit; font-size: 13px; font-weight: 600; border-radius: 6px;
      transition: all .3s; position: relative; overflow: hidden; text-shadow: 0 0 10px var(--neon);
      box-shadow: 0 0 15px rgba(0,255,170,.3);
    }
    .btn:hover { color: var(--bg); box-shadow: 0 0 30px var(--neon); transform: scale(1.05); }
    .btn::before {
      content: ''; position: absolute; inset: 0; background: var(--neon); transform: scaleX(0);
      transform-origin: left; transition: transform .4s; z-index: -1;
    }
    .btn:hover::before { transform: scaleX(1); }
    
    .sections { position: fixed; inset: 0; z-index: 11; }
    section {
      position: absolute; inset: 0; padding: 120px 40px 40px;
      display: flex; flex-direction: column; justify-content: center; align-items: center;
      opacity: 0; transform: scale(1.1);
      transition: opacity .8s ease-out, transform .8s ease-out;
      pointer-events: none;
    }
    section.active { opacity: 1; transform: scale(1); pointer-events: auto; }
    .hero.hidden { opacity: 0; transform: translate(-50%, -50%) scale(0.9); pointer-events: none; }
    
    .section-content { max-width: 1000px; width: 100%; }
    .section-title {
      font-size: clamp(28px, 4vw, 48px); color: var(--neon);
      font-family: 'Orbitron', sans-serif; text-shadow: 0 0 20px var(--neon); margin-bottom: 30px;
    }
    .grid { display: grid; gap: 20px; }
    .grid.cols-2 { grid-template-columns: 1fr 1fr; }
    .grid.cols-3 { grid-template-columns: repeat(3, 1fr); }
    .grid.cols-4 { grid-template-columns: repeat(4, 1fr); }
    @media (max-width: 900px) { .grid.cols-4 { grid-template-columns: 1fr 1fr; } }
    @media (max-width: 768px) { .grid.cols-2, .grid.cols-3 { grid-template-columns: 1fr; } }
    
    .card {
      border: 1px solid rgba(0,255,170,.3); border-radius: 12px; padding: 25px;
      background: linear-gradient(135deg, rgba(10,31,39,.5), rgba(15,58,71,.3));
      backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);
      box-shadow: 0 0 20px rgba(0,255,170,.1); transition: all .3s;
    }
    .card:hover { border-color: var(--neon); box-shadow: 0 0 30px rgba(0,255,170,.2); transform: translateY(-8px); }
    .card h3 { color: var(--neon-light); font-size: 18px; margin-bottom: 15px; }
    .card p, .card li { font-size: 14px; line-height: 1.7; opacity: 0.9; }
    .card .hint { font-family: 'VT323', monospace; color: #aef; font-size: 12px; margin-top: 15px; }
    
    .cursor {
      position: fixed; width: 30px; height: 30px; border: 2px solid var(--neon);
      border-radius: 50%; pointer-events: none; z-index: 999;
      transform: translate(-50%, -50%); transition: width .3s, height .3s;
      mix-blend-mode: difference;
    }
    
    .modal-overlay {
      position: fixed; inset: 0; z-index: 100;
      background: rgba(10, 31, 39, 0.7);
      backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
      display: flex; align-items: center; justify-content: center;
      opacity: 0; pointer-events: none; transition: opacity .4s ease;
    }
    .modal-overlay.visible { opacity: 1; pointer-events: auto; }
    .modal-window {
      background: #c0c0c0; border: 2px solid;
      border-top-color: #fff; border-left-color: #fff;
      border-right-color: #000; border-bottom-color: #000;
      box-shadow: 5px 5px 10px rgba(0,0,0,0.5);
      width: 90%; max-width: 600px;
      transform: scale(0.9); transition: transform .4s ease;
    }
    .modal-overlay.visible .modal-window { transform: scale(1); }
    .modal-title-bar {
      background: linear-gradient(to right, #000080, #1084d0);
      color: #fff; font-family: 'VT323', monospace; font-size: 18px;
      padding: 5px 8px; display: flex; justify-content: space-between; align-items: center;
      user-select: none;
    }
    .modal-close-btn {
      background: #c0c0c0; width: 22px; height: 22px;
      border: 2px solid; border-top-color: #fff; border-left-color: #fff;
      border-right-color: #000; border-bottom-color: #000;
      font-family: 'monospace'; font-weight: bold;
      display: flex; align-items: center; justify-content: center; cursor: pointer;
    }
    .modal-content { padding: 10px; background: #fff; }
    .modal-content img { display: block; width: 100%; height: auto; }
    .achievement-item {
      display: flex; flex-direction: column; align-items: center; text-align: center;
      gap: 10px; padding: 15px; cursor: pointer; transition: transform .3s;
    }
    .achievement-item:hover { transform: translateY(-5px); }
    .achievement-item .icon { font-size: 48px; }
    .achievement-item .title { font-size: 13px; font-weight: 600; transition: color .3s; }
    .achievement-item:hover .title { color: var(--neon); text-shadow: 0 0 10px var(--neon); }
  </style>
</head>
<body>
  <canvas id="canvas"></canvas>

  <div class="ui">
    <div class="topbar">
      <div class="logo"><div class="logo-mark">KA</div><div>TR·∫¶N ANH KHOA</div></div>
      <nav>
        <a href="#home" class="nav-link active" data-index="0">TRANG CH·ª¶</a>
        <a href="#about" class="nav-link" data-index="1">GI·ªöI THI·ªÜU</a>
        <a href="#work" class="nav-link" data-index="2">D·ª∞ √ÅN</a>
        <a href="#achievements" class="nav-link" data-index="3">TH√ÄNH T·ª∞U</a>
        <a href="#contact" class="nav-link" data-index="4">LI√äN H·ªÜ</a>
      </nav>
    </div>

    <div class="hero">
      <h1>TR·∫¶N ANH KHOA</h1>
      <p>T√¥i x√¢y d·ª±ng c√°c h·ªá th·ªëng <strong>t·ª± ƒë·ªông h√≥a y t·∫ø</strong>, <strong>gi√°m s√°t BHYT</strong>, v√† <strong>dashboard d·ªØ li·ªáu to√†n di·ªán</strong>. Hi·ªán c√¥ng t√°c t·∫°i <em>Trung t√¢m Y t·∫ø huy·ªán C·ªß Chi</em>.</p>
      <div class="hero-buttons"><button class="btn" onclick="navigateTo(2)">XEM D·ª∞ √ÅN ‚Üí</button></div>
    </div>

    <div class="sections">
      <section id="home" class="active"></section>
      
      <section id="about">
        <div class="section-content">
          <div class="section-title">/ GI·ªöI THI·ªÜU</div>
          <div class="grid cols-2">
            <div class="card">
              <h3>üéØ TRI·∫æT L√ù</h3>
              <p>ƒê∆°n gi·∫£n h√≥a quy tr√¨nh ‚Äì t·ª± ƒë·ªông h√≥a b∆∞·ªõc l·∫∑p ‚Äì ƒëo l∆∞·ªùng minh b·∫°ch ‚Äì ph·∫£n h·ªìi nhanh.</p>
            </div>
            <div class="card">
              <h3>‚ö° NƒÇNG L·ª∞C C·ªêT L√ïI</h3>
              <ul style="list-style: none; padding: 0;">
                <li style="padding: 5px 0;">‚Üí Gi√°m s√°t & ki·ªÉm tra KCB BHYT</li>
                <li style="padding: 5px 0;">‚Üí Dashboard v·∫≠n h√†nh (GAS / WebApp)</li>
                <li style="padding: 5px 0;">‚Üí T·ª± ƒë·ªông h√≥a b√°o c√°o 21 tr·∫°m</li>
                <li style="padding: 5px 0;">‚Üí T√≠ch h·ª£p d·ªØ li·ªáu ƒëa ngu·ªìn</li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      <section id="work">
        <div class="section-content">
          <div class="section-title">/ D·ª∞ √ÅN</div>
          <div class="grid cols-3">
            <div class="card"><h3>üè• Gi√°m s√°t BHYT</h3><p>Ph√°t hi·ªán l·ªói XML, c·∫£nh b√°o xu·∫•t to√°n, sai s√≥t quy tr√¨nh tr∆∞·ªõc khi g·ª≠i c·ªïng gi√°m ƒë·ªãnh.</p><p class="hint">‚Üí GAS ‚Ä¢ HTML/JS ‚Ä¢ Chart.js</p></div>
            <div class="card"><h3>üìä Dashboard NCT</h3><p>T·ª± ƒë·ªông h√≥a l·ªãch kh√°m s·ª©c kh·ªèe, th·ªëng k√™ theo t·ª´ng tr·∫°m, v√† xu·∫•t bi·ªÉu m·∫´u nhanh ch√≥ng.</p><p class="hint">‚Üí GAS Web App ‚Ä¢ Sheets API</p></div>
            <div class="card"><h3>üìÑ File VƒÉn B·∫£n 2.0</h3><p>Kho bi·ªÉu m·∫´u s·ªë h√≥a t·∫≠p trung, t√≠ch h·ª£p k√Ω s·ªë, ph√¢n quy·ªÅn v√† theo d√µi ti·∫øn ƒë·ªô.</p><p class="hint">‚Üí HTML/JS ‚Ä¢ Drive API ‚Ä¢ e-Sign</p></div>
          </div>
        </div>
      </section>

      <section id="achievements">
        <div class="section-content">
          <div class="section-title">/ TH√ÄNH T·ª∞U</div>
          <div class="grid cols-4" id="achievements-grid">
            </div>
        </div>
      </section>
      
      <section id="contact">
        <div class="section-content">
          <div class="section-title">/ LI√äN H·ªÜ</div>
          <form id="contactForm" class="card" onsubmit="sendMail(event)">
            <p>R·∫•t s·∫µn l√≤ng chia s·∫ª v√† c·ªông t√°c v·ªÅ c√°c d·ª± √°n t·ª± ƒë·ªông h√≥a y t·∫ø, BHYT, v√† dashboard d·ªØ li·ªáu. H√£y k·∫øt n·ªëi!</p>
            <div class="grid cols-2">
                <input type="text" name="subject" placeholder="Ti√™u ƒë·ªÅ..." required />
                <input type="email" name="user_email" placeholder="Email c·ªßa b·∫°n..." required />
            </div>
            <textarea name="body" rows="4" placeholder="L·ªùi nh·∫Øn c·ªßa b·∫°n..." required></textarea>
            <button class="btn" type="submit" style="width: 100%; margin-top: 15px;">G·ª¨I L·ªúI NH·∫ÆN ‚Üí</button>
          </form>
        </div>
      </section>
    </div>
  </div>

  <div class="cursor"></div>

  <div class="modal-overlay" id="achievement-modal">
    <div class="modal-window">
      <div class="modal-title-bar">
        <span id="modal-title"></span>
        <div class="modal-close-btn" onclick="closeModal()">X</div>
      </div>
      <div class="modal-content"><img id="modal-image" src="" alt="Certificate Image" /></div>
    </div>
  </div>

  <script type="importmap">{ "imports": { "three": "https://unpkg.com/three@0.164.1/build/three.module.js", "three/addons/": "https://unpkg.com/three@0.164.1/examples/jsm/" } }</script>
  <script type="module">
    import * as THREE from 'three';
    import { EffectComposer } from 'three/addons/postprocessing/EffectComposer.js';
    import { RenderPass } from 'three/addons/postprocessing/RenderPass.js';
    import { UnrealBloomPass } from 'three/addons/postprocessing/UnrealBloomPass.js';

    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
    const renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('canvas'), antialias: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));

    const composer = new EffectComposer(renderer);
    composer.addPass(new RenderPass(scene, camera));
    const bloomPass = new UnrealBloomPass(new THREE.Vector2(window.innerWidth, window.innerHeight), 1.2, 0.5, 0);
    composer.addPass(bloomPass);

    const core_geom = new THREE.IcosahedronGeometry(4, 30);
    const core_mat = new THREE.ShaderMaterial({
        uniforms: { time: { value: 0 }, color: { value: new THREE.Color('#00ffaa') } },
        vertexShader: `uniform float time;varying vec3 vN;void main(){vN=normal;vec3 p=position;float n=sin(p.x*2.5+time*0.7)*cos(p.y*2.0+time*0.5)*0.2;p+=normal*n;gl_Position=projectionMatrix*modelViewMatrix*vec4(p,1.0);}`,
        fragmentShader: `uniform vec3 c;varying vec3 vN;void main(){float i=pow(0.6-dot(vN,vec3(0,0,1)),2.0);gl_FragColor=vec4(c*i,1.0);}`,
        blending: THREE.AdditiveBlending, transparent: true,
    });
    const core = new THREE.Mesh(core_geom, core_mat);
    scene.add(core);
    const wireframe = new THREE.Mesh(core_geom, new THREE.MeshBasicMaterial({ color: 0x00ffff, wireframe: true, transparent: true, opacity: 0.2 }));
    wireframe.scale.setScalar(1.001);
    core.add(wireframe);

    const cameraStates = [
        { pos: new THREE.Vector3(0, 0, 15), target: new THREE.Vector3(0, 0, 0) },
        { pos: new THREE.Vector3(-12, 5, 12), target: new THREE.Vector3(0, 0, 0) },
        { pos: new THREE.Vector3(0, -8, 18), target: new THREE.Vector3(0, 0, 0) },
        { pos: new THREE.Vector3(0, 8, 18), target: new THREE.Vector3(0, 0, 0) },
        { pos: new THREE.Vector3(12, 5, 12), target: new THREE.Vector3(0, 0, 0) },
    ];
    let currentSection = 0;
    const targetCameraPos = new THREE.Vector3().copy(cameraStates[0].pos);
    const targetCameraLookAt = new THREE.Vector3().copy(cameraStates[0].target);

    const clock = new THREE.Clock();
    function animate() {
      const elapsedTime = clock.getElapsedTime();
      core_mat.uniforms.time.value = elapsedTime;
      core.rotation.y = elapsedTime * 0.05;
      
      camera.position.lerp(targetCameraPos, 0.05);
      const currentLookAt = new THREE.Vector3(0,0,-1).applyQuaternion(camera.quaternion).add(camera.position);
      currentLookAt.lerp(targetCameraLookAt, 0.05);
      camera.lookAt(currentLookAt);

      composer.render();
      requestAnimationFrame(animate);
    }
    animate();

    const sections = document.querySelectorAll('section');
    const navLinks = document.querySelectorAll('.nav-link');
    const hero = document.querySelector('.hero');
    const cursor = document.querySelector('.cursor');

    window.navigateTo = function(index) {
      if (index < 0 || index >= sections.length || index === currentSection) return;
      currentSection = index;
      sections.forEach((sec, i) => sec.classList.toggle('active', i === index));
      navLinks.forEach((link, i) => link.classList.toggle('active', i === index));
      hero.classList.toggle('hidden', index !== 0);
      targetCameraPos.copy(cameraStates[index].pos);
      targetCameraLookAt.copy(cameraStates[index].target);
    }
    
    navLinks.forEach(link => link.addEventListener('click', e => { e.preventDefault(); navigateTo(parseInt(link.dataset.index)); }));
    document.addEventListener('keydown', e => {
      if (e.key === 'ArrowDown') navigateTo(currentSection + 1);
      if (e.key === 'ArrowUp') navigateTo(currentSection - 1);
    });
    document.addEventListener('mousemove', e => { cursor.style.left = e.clientX + 'px'; cursor.style.top = e.clientY + 'px'; });
    
    const modal = document.getElementById('achievement-modal');
    const modalTitle = document.getElementById('modal-title');
    const modalImage = document.getElementById('modal-image');
    
    const achievementsData = [
      { icon: 'üèÜ', title: 'Gi·∫•y Khen - Hiphop Neva Die 2025', imageSrc: 'https://i.imgur.com/l50GS8s.png' },
      { icon: 'üìÑ', title: 'Ch·ª©ng Ch·ªâ A.pdf', imageSrc: 'https://via.placeholder.com/800x600.png?text=Certificate+A' },
    ];

    const achievementsGrid = document.getElementById('achievements-grid');
    achievementsData.forEach(item => {
      const div = document.createElement('div');
      div.className = 'achievement-item';
      div.innerHTML = `<div class="icon">${item.icon}</div><div class="title">${item.title}</div>`;
      div.onclick = () => openModal(item.title, item.imageSrc);
      achievementsGrid.appendChild(div);
    });

    function openModal(title, imageSrc) {
      modalTitle.textContent = title;
      modalImage.src = imageSrc;
      modal.classList.add('visible');
    }

    window.closeModal = function() { modal.classList.remove('visible'); }
    modal.addEventListener('click', (e) => { if (e.target === modal) closeModal(); });

    const EMAIL = "trananhkhoa@example.com";
    window.sendMail = function(e) {
      e.preventDefault(); const form = e.target;
      const body = `From: ${form.user_email.value}\n\n${form.body.value}`;
      window.location.href = `mailto:${EMAIL}?subject=${encodeURIComponent(form.subject.value)}&body=${encodeURIComponent(body)}`;
    }
    
    window.addEventListener('resize', () => {
      camera.aspect = window.innerWidth / window.innerHeight; camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight); composer.setSize(window.innerWidth, window.innerHeight);
    });
  </script>
</body>
</html>
